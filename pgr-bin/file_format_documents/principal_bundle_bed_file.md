# Principal Bundle BED File Format

## Overview

This document describes the format of principal bundle BED files generated by the `pgr-pbundle-decomp` tool. These files contain decomposition information about genomic regions organized into principal bundles, which represent similar sequence regions across different contigs or assemblies.

## File Format

The principal bundle BED file is a tab-separated text file where each line represents a bundle region in a contig.

### Header

The file begins with a comment line containing the command used to generate the file:
```
# cmd: <command_string>
```

### Data Columns

Each subsequent line contains the following tab-separated fields:

1. **Contig Name** (string)
   - The name of the contig or sequence

2. **Start Position** (integer)
   - The 0-based start position of the bundle region on the contig

3. **End Position** (integer)
   - The end position of the bundle region on the contig

4. **Bundle Information** (string)
   - A colon-separated string containing the following components:
     
     a. **Bundle ID** (integer)
        - The unique identifier for the bundle
     
     b. **Bundle Size** (integer)
        - The total size of the bundle in base pairs
     
     c. **Direction** (0 or 1)
        - 0: Forward direction
        - 1: Reverse direction (reverse complement)
     
     d. **Start Position in Bundle** (integer)
        - The start position of this region within the bundle coordinates
     
     e. **End Position in Bundle** (integer)
        - The end position of this region within the bundle coordinates
     
     f. **Repeat Status** (R or U)
        - R: Repeat region
        - U: Unique (non-repeat) region

## Example

```
contig1  1000  2000  42:5000:0:100:200:U
```

This line indicates:
- Region is on `contig1`
- Region spans from position 1000 to 2000 on the contig
- Region belongs to bundle with ID 42
- The total bundle size is 5000 bp
- Region is in the forward direction (0)
- Within the bundle, the region spans from position 100 to 200
- The region is unique (U), not a repeat

## Usage

Principal bundle BED files are typically used for:
- Analyzing sequence similarity across different assemblies
- Identifying structural variants
- Visualizing genome alignments
- Mapping coordinates between different assemblies

For related tools that work with these files, see:
- `pgr-pbundle-bed2svg`: Generates SVG visualizations from bundle BED files
- `pgr-pbundle-bed2dist`: Calculates distances between bundle regions
- `pgr-pbundle-bed2sorted`: Sorts bundle BED files for more efficient processing
- `pgr-pbundle-bed2offset`: Computes coordinate offsets between bundle regions